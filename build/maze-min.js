!function(){function e(e){var t=[],r=e=>Math.floor((e-1)/2),a=e=>2*e+1,i=e=>2*(e+1),o=function(e,n){var r=t[e];t[e]=t[n],t[n]=r},f=(e=e||{}).compare||((e,t)=>e<t);return{get:e=>void 0==e?t:t[e],push:function(){return Array.from(arguments).forEach(e=>{for(n=t.push(e)-1;n>0&&f(t[n],t[r(n)]);)o(n,r(n)),n=r(n)}),t.length},empty:()=>0==t.length,pop:function(){if(!this.empty()){var e=0,n=t[e];if(1==t.length)t.pop();else for(t[e]=t.pop();t[a(e)]&&f(t[a(e)],t[e])||t[i(e)]&&f(t[i(e)],t[e]);)t[i(e)]&&f(t[i(e)],t[a(e)])?(o(e,i(e)),e=i(e)):(o(e,a(e)),e=a(e));return n}}}}var t,r,a=e=>document.getElementById(e),i=a("canvas"),o=i.getContext("2d"),f=!1,h=a("sizetxt"),u=a("algotxt"),l=a("speedtxt"),p=a("resetbtn"),s=a("pausebtn"),c=new function(){var n,a,p,c,v,d,y=[],w={compare:(e,t)=>e.w<t.w},x=()=>Math.floor(100*Math.random()),g=(e,t,r)=>{o.fillStyle=r,o.fillRect(n*e,n*t,n,n)},m=function(t,n,r,i){if(r=r||t,i=i||n,0==y[t][n]){y[t][n]=y[r][i]=1;var o=new e(w);for(t-2>0&&o.push({w:x(),x:t-2,y:n,fx:t-1,fy:n}),n-2>0&&o.push({w:x(),x:t,y:n-2,fx:t,fy:n-1}),t+2<a-1&&o.push({w:x(),x:t+2,y:n,fx:t+1,fy:n}),n+2<p-1&&o.push({w:x(),x:t,y:n+2,fx:t,fy:n+1});!o.empty();){var f=o.pop();c.get().filter(({x:e,y:t})=>e==f.x&&t==f.y).length<1&&0==y[f.x][f.y]&&c.push({w:x(),x:f.x,y:f.y,fx:f.fx,fy:f.fy})}}};this.renderView=function(){if(!f)if(c.empty())clearInterval(t);else{var e=c.pop();m(e.x,e.y,e.fx,e.fy),o.clearRect(0,0,window.innerWidth,window.innerHeight),c.get().forEach(({x:e,y:t,fx:n,fy:r})=>{g(e,t,"red"),g(n,r,"red")});for(var n=a-1;n>=0;n--)for(var r=p-1;r>=0;r--)1==y[n][r]&&g(n,r,"white");g(e.x,e.y,"blue")}},this.start=function(){i.width=window.innerWidth,i.height=window.innerHeight-40,n=h.value,a=Math.floor(i.width/n),p=Math.floor(i.height/n),r=l.value||1,f=!1,s.value="Pause",c=0==u.value?new function(){var e=[];return{get:t=>void 0==t?e:e[t],empty:()=>0==e.length,push:t=>e.push(t),pop:()=>e.shift()}}:1==u.value?new function(){var e=[];return{get:t=>void 0==t?e:e[t],empty:()=>0==e.length,push:t=>e.push(t),pop:()=>e.pop()}}:new e(w),v=Math.floor(Math.random()*(a-2)+1),d=Math.floor(Math.random()*(p-2)+1);for(var o=a-1;o>=0;o--){y[o]=[];for(var x=p-1;x>=0;x--)y[o][x]=0}m(v,d),t=setInterval(this.renderView,r)},this.start()};p.addEventListener("click",function(){clearInterval(t),c.start()}),window.onresize=function(e){p.click()},s.addEventListener("click",function(){f=!f,s.value="Pause"==s.value?"Play":"Pause"}),l.addEventListener("change",function(){r=this.value,clearInterval(t),t=setInterval(c.renderView,r)})}();